<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Serial Signal Examples | ch5-svelte</title><meta name="description" content="Documentation for ch5-svelte"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">ch5-svelte</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">ch5-svelte</a></li><li><a href="Serial_Signal_Examples.html">Serial Signal Examples</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="serial-signal-examples" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Serial Signal Examples<a href="#serial-signal-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This is a collection of example uses of serial signals. Only basic HTML constructs are used, and no styling is provided. Pick your favorite CSS framework, and or Svelte component library and style it as you like.</p>
<a id="displaying-text-from-a-serial-signal" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Displaying Text from a Serial Signal<a href="#displaying-text-from-a-serial-signal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="svelte"><span class="hl-7">&lt;</span><span class="hl-8">script</span><span class="hl-1"> </span><span class="hl-10">lang</span><span class="hl-1">=</span><span class="hl-2">&quot;ts&quot;</span><span class="hl-7">&gt;</span><br/><span class="hl-9">  </span><span class="hl-4">import</span><span class="hl-9"> { </span><span class="hl-5">useSerial</span><span class="hl-9"> } </span><span class="hl-4">from</span><span class="hl-9"> </span><span class="hl-2">&#39;ch5-svelte&#39;</span><span class="hl-9">;</span><br/><br/><span class="hl-9">  </span><span class="hl-3">const</span><span class="hl-9"> </span><span class="hl-12">serialSignal</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-0">useSerial</span><span class="hl-9">(</span><span class="hl-2">&quot;Text.TextF&quot;</span><span class="hl-9">)</span><br/><span class="hl-7">&lt;/</span><span class="hl-8">script</span><span class="hl-7">&gt;</span><br/><br/><span class="hl-7">&lt;</span><span class="hl-8">p</span><span class="hl-7">&gt;</span><span class="hl-3">{</span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-3">}</span><span class="hl-7">&lt;/</span><span class="hl-8">p</span><span class="hl-7">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>The <a href="https://svelte.dev/docs/svelte/basic-markup">Svelte Text Expression</a> syntax can be used to display text anywhere in a UI. <code>useSerial</code> subscribes to the provided signal and provides an object with a single property of <code>value</code>. <code>value</code> is reactive and provides the real-time state of the subscribed serial signal and provides it with the <code>$state&lt;string&gt;</code> rune.</p>
<a id="settable-text-field" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Settable Text Field<a href="#settable-text-field" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="svelte"><span class="hl-7">&lt;</span><span class="hl-8">script</span><span class="hl-1"> </span><span class="hl-10">lang</span><span class="hl-1">=</span><span class="hl-2">&quot;ts&quot;</span><span class="hl-7">&gt;</span><br/><span class="hl-9">  </span><span class="hl-4">import</span><span class="hl-9"> { </span><span class="hl-5">useSerial</span><span class="hl-9"> } </span><span class="hl-4">from</span><span class="hl-9"> </span><span class="hl-2">&#39;ch5-svelte&#39;</span><span class="hl-9">;</span><br/><br/><span class="hl-9">  </span><span class="hl-3">const</span><span class="hl-9"> </span><span class="hl-12">serialSignal</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-0">useSerial</span><span class="hl-9">(</span><span class="hl-2">&quot;Text.TextF&quot;</span><span class="hl-9">,</span><span class="hl-2">&quot;Text.Text&quot;</span><span class="hl-9">)</span><br/><span class="hl-7">&lt;/</span><span class="hl-8">script</span><span class="hl-7">&gt;</span><br/><br/><span class="hl-7">&lt;</span><span class="hl-8">input</span><span class="hl-1"> </span><span class="hl-10">type</span><span class="hl-1">=</span><span class="hl-2">&quot;text&quot;</span><span class="hl-1"> </span><span class="hl-4">bind</span><span class="hl-1">:</span><span class="hl-13">value</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-3">}</span><span class="hl-1"> </span><span class="hl-7">/&gt;</span>
</code><button type="button">Copy</button></pre>

<p><code>useSerial</code> can optionally take two arguments. The first argument is the signal to read (Feedback from control system), and the second argument is the signal to write (event to control system). When the <code>value</code> property is read from, the value ui dynamically updated based on the real-time value of the feedback signal. when the <code>value</code> property is written to, the value is transmitted to the control system using the signal name specified in the second argument to <code>useSerial</code>. If only one signal name is passed into <code>useSerial</code> the same name or join is use for both read and write.</p>
<p>Because the <code>value</code> property on the returned signal implements both getters and setters, we can simply bind the <code>value</code> property of a HTML Input element of type <code>text</code> to the <code>value</code> property of the serial signal object. This gives us a two-way text box that will react to updated form the controls system as well as set the value on the control system.</p>
<a id="settable-text-filed-with-submit-and-cancel-buttons" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Settable Text FIled with Submit and Cancel Buttons<a href="#settable-text-filed-with-submit-and-cancel-buttons" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="svelte"><span class="hl-7">&lt;</span><span class="hl-8">script</span><span class="hl-1"> </span><span class="hl-10">lang</span><span class="hl-1">=</span><span class="hl-2">&quot;ts&quot;</span><span class="hl-7">&gt;</span><br/><span class="hl-9">  </span><span class="hl-4">import</span><span class="hl-9"> { </span><span class="hl-5">useSerial</span><span class="hl-9"> } </span><span class="hl-4">from</span><span class="hl-9"> </span><span class="hl-2">&#39;ch5-svelte&#39;</span><span class="hl-9">;</span><br/><br/><span class="hl-9">  </span><span class="hl-3">const</span><span class="hl-9"> </span><span class="hl-12">serialSignal</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-0">useSerial</span><span class="hl-9">(</span><span class="hl-2">&quot;Text.TextF&quot;</span><span class="hl-9">,</span><span class="hl-2">&quot;Text.Text&quot;</span><span class="hl-9">)</span><br/><span class="hl-9">  </span><br/><span class="hl-9">  </span><span class="hl-3">let</span><span class="hl-9"> </span><span class="hl-5">textBoxText</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> $</span><span class="hl-0">state</span><span class="hl-9">(</span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-9">);</span><br/><br/><span class="hl-9">$</span><span class="hl-0">effect</span><span class="hl-9">(() </span><span class="hl-3">=&gt;</span><span class="hl-9"> {</span><br/><span class="hl-9">  </span><span class="hl-5">textBoxText</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-9">;</span><br/><span class="hl-9">});</span><br/><br/><span class="hl-7">&lt;/</span><span class="hl-8">script</span><span class="hl-7">&gt;</span><br/><br/><span class="hl-7">&lt;</span><span class="hl-8">input</span><span class="hl-1"> </span><span class="hl-10">type</span><span class="hl-1">=</span><span class="hl-2">&quot;text&quot;</span><span class="hl-1"> </span><span class="hl-4">bind</span><span class="hl-1">:</span><span class="hl-13">value</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-5">textBoxText</span><span class="hl-3">}</span><span class="hl-7">/&gt;</span><br/><br/><span class="hl-6">&lt;!--The Submit button takes what the user entered and sends it to the Control System--&gt;</span><br/><span class="hl-7">&lt;</span><span class="hl-8">button</span><span class="hl-1"> </span><br/><span class="hl-1">  </span><span class="hl-10">disabled</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-5">textBoxText</span><span class="hl-9"> </span><span class="hl-1">===</span><span class="hl-9"> </span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-3">}</span><span class="hl-1"> </span><br/><span class="hl-1">  </span><span class="hl-10">onclick</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-9">() </span><span class="hl-3">=&gt;</span><span class="hl-9"> </span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-5">textBoxText</span><span class="hl-3">}</span><br/><span class="hl-1">  </span><span class="hl-7">&gt;</span><span class="hl-1">Submit</span><br/><span class="hl-7">&lt;/</span><span class="hl-8">button</span><span class="hl-7">&gt;</span><br/><br/><span class="hl-6">&lt;!--The Cancel Button takes the last state from the COntrol System and overwrites any user changes--&gt;</span><br/><span class="hl-7">&lt;</span><span class="hl-8">button</span><br/><span class="hl-1">  </span><span class="hl-10">disabled</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-5">textBoxText</span><span class="hl-9"> </span><span class="hl-1">===</span><span class="hl-9"> </span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-3">}</span><span class="hl-1"> </span><br/><span class="hl-1">  </span><span class="hl-10">onclick</span><span class="hl-1">=</span><span class="hl-3">{</span><span class="hl-9">() </span><span class="hl-3">=&gt;</span><span class="hl-9"> </span><span class="hl-5">textBoxText</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-5">serialSignal</span><span class="hl-9">.</span><span class="hl-5">value</span><span class="hl-3">}</span><br/><span class="hl-1">  </span><span class="hl-7">&gt;</span><span class="hl-1">Cancel</span><br/><span class="hl-7">&lt;/</span><span class="hl-8">button</span><span class="hl-7">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>If you simply bind the <code>value</code> rune provided by the signal to an input field, the value will be sent to the Control System continuously while the input field is being edited.</p>
<p>This example shows how to create a submit and cancel button to control when the value is sent to the Control System. The cancel button will revert the input field to the last value sent by the Control System. The submit button will send the value to the Control System. The buttons are disabled when the input field matches the value on the Control System. The Effect function is used to allow one-way updates from the Control System to update the input field.</p>
<p>For more information on the Effect function, see the <a href="https://svelte.dev/docs/svelte/$effect">Svelte documentation</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#serial-signal-examples"><span>Serial <wbr/>Signal <wbr/>Examples</span></a><ul><li><a href="#displaying-text-from-a-serial-signal"><span>Displaying <wbr/>Text from a <wbr/>Serial <wbr/>Signal</span></a></li><li><a href="#settable-text-field"><span>Settable <wbr/>Text <wbr/>Field</span></a></li><li><a href="#settable-text-filed-with-submit-and-cancel-buttons"><span>Settable <wbr/>Text FIled with <wbr/>Submit and <wbr/>Cancel <wbr/>Buttons</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">ch5-svelte</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
